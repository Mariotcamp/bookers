<% flash.each do |message_type, message| %>
  <span class = "green"><%= message %></span>
<% end %>
<h1>Books</a></h1>
<table>
  <thead>
    <tr>
      <th class="space-left">title</th>
      <th class="space-left">body</th>
    </tr>
  </thead>
  <tbody>
    <!--ちょっと待って→ここさー、@booksにデータが入ってなくてもエラー起こさないのはなぜ？？？？ -->
    <% @books.each do |book| %>
      <tr>
        <td class="space"><%= book.title %></td>
        <td class="space"><%= book.body %></td>
        <td class="space"><%= link_to 'Show',book_path(book.id) %></td>
        <td class="space"><%= link_to 'Edit',edit_book_path(book.id) %></td>
        <td class="space"><%= link_to 'Destroy', book_path(book.id) , method: :delete , data:{confirm:"Are you sure?"}%></td>
      </tr>
    <% end %>

  </tbody>
</table>

<h3>New book</h3>
<%= render 'layouts/error_form', book: @book %>
<%= form_with model:@book , local:true do |f| %>  <!--勝手にmethod指定してくれてるのか！！-->
<p>title</p>
<%= f.text_field :title %>
<p>body</p>
<%= f.text_area :body %>
<p><%= f.submit 'Create Book' %></p>
<% end %>

